---
title: "보수는 뭘까"
date: "2025-06-30"
---

일반적으로 부호가 "있는" 정수를 표현할 때는 2의 보수를 사용한다.

## 보수는 뭘까?

영어로는 Complement라고 하고 예시로는 2의 보수를 two's complement라고 말한다.

위키백과에서 보수는 다음과 같이 정의된다.

> 보수(補數)는 보충을 해주는 수를 의미한다. 이를테면 1에 대한 10의 보수는 9, 4에 대한 15의 보수는 11의 개념이다. 1에 대한 2의 보수는 1이다.

좀 더 정형화 해서 말해보자면,

[어떤 수]를 [특정한 기준의 수]로 만들 때 [필요한 수]

> [7]을 [10]으로 만들 때 필요한 수는 [3]

라고 얘기할 수 있다.

그리고, 0과 1만 존재하는 2진수 입장에서 1의 보수는 곧 비트 반전이기도 하다.

## 컴퓨터가 음수를 표현하는 아이디어

우리에게 일상에서 음수는 당연하지만 0과 1만이 존재하는 세상, 컴퓨터 세계에서는 음수의 표현을 어떻게 할 수 있을까?

더 나아가 컴퓨터는 뺄셈을 어떻게 처리할 수 있을까?

### 부호 절대값 (sign-magnitude)

가장 직관적인 방법이다.

2진수로 나열된 값의 최상위 비트(MSB)를 부호 비트로 사용하자!

`+5`: `00000101`

`-5`: `10000101`

봤을 때는 가장 이해하기 쉽고 사용하기 간편해 보이지만 단점이 명확하다.

그 단점들이, 크게는 0이 두 개가 존재하고 덧셈과 뺄셈 연산에 혼란이 있게 된다.

`+0`: `00000000`과 `-0`: `10000000`처럼 0이 두 개가 존재한다면 어떤 문제가 있을까?

예를 들어, 어떤 변수 a가 +0, 변수 b가 -0일 때

```c
if (a == b) {
  // ...
}
```

과연 a와 b는 같다고 할 수 있을까? 비트 수준에서 둘은 명확히 다르지만 값은 0이므로 동일하다고 봐야할까?

이로 인해 불필요한 처리 또는 예외가 생길 수 있다.

다음은 덧셈과 뺄셈의 경우를 살펴보자.

`+3`: `00000011`과 `-3`: `10000011`을 더해보자.

`00000011` + `10000011` = `10000110` = `-6`

+3과 -3을 더했다면 우리가 기대한 값인 0이 나와야 하는데 -6이 나왔다.

이 또한 결과에 대한 절댓값을 서로 비교하는 등 추가적인 연산을 필요로 한다.

### 1의 보수 (one's complement)

비트를 완전히 반전시켜 음수로 표현하는 방식이다.

`+5`: `00000101`

`-5`: `11111010`

여기서는 또 어떤 단점이 존재할까?

앞서 살펴본 부호 절대값 방식과 동일하게 여기서도 0이 두 개 존재한다.

`+0`: `00000000`

`-0`: `11111111`

따라서 앞서 본 바와 같이 이로 인해 불필요한 처리 또는 예외가 생길 수 있다. 추가적인 연산이 들어가야 한다.

다른 단점으로는 덧셈을 할 때 `carry bit`를 고려해야 한다.

`+7`: `00000111`와 `-3`: `11111100`을 더해보자.

`00000111` + `11111100` = `1 00000011`

`00000011`은 3이고, 오버플로우된 `1`을 다시 더해줘야 4를 구할 수 있다.

그래서 캐리 비트가 발생하냐 발생하지 않냐를 기준으로 1을 더해주거나 더하지 않거나를 고려해야 하는 단점이 있다.

### 2의 보수 (two's complement)

컴퓨터에서는 2의 보수 방법을 채택해서 사용한다.

2의 보수는 1의 보수에 1을 더한 값이다.

신기하게도 앞서 말한 단점을 모두 커버한다.

`+5`: `00000101`

`-5`: `11111010` + `1` = `11111011`

0은 하나만 존재한다.

`+0`: `00000000`

`-0`: `00000000` + `1` = `1 00000000` =(오버플로우가 나는 캐리 비트는 제거한다.) = `00000000`

표현 범위가 대칭적이다.

`-2^(n-1) ~ 2^(n-1) - 1`

2의 보수에서는 오직 1의 보수(비트 반전)를 취한 뒤에 1을 더해야 하는 규칙 이외에는 앞서 말한 단점들에 해당하는 까다로운 규칙(분기점 같은)이 없기 때문에 2의 보수를 이용해 음수를 표현하는 방법을 사용하고 있다.
